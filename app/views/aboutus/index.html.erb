 <style>

  @media (min-width: 768px) {
    .box .aboutus-image {
      float: left;
      width: 590px;
      height: 400px;
      border-radius: 20px;
       }
      }

  @media (max-width: 768px) {
      .box .aboutus-image {
      float: left;
      width: 500px;
      height: 300px;
      border-radius: 20px;
        }
      }

    .progressive-image {
      filter: blur(20px);
      transition: filter 0.5s ease;
    }

    .progressive-image.loaded {
      filter: blur(0);
    }
  </style>

  <div class="container">
    <div class="py-md-5 py-4">
         <h4 class="text-center text-white caudex-bold p-0 m-0">ABOUT</h4>
     </div>
      <div class="row">
          <div class="box">
            <% @aboutus.each do |about| %>

              <% if about.image.present? %>
                <%= image_tag about.image,
                loading: "lazy", 
                class: "img-fluid aboutus-image progressive-image px-2 pb-2", 
                alt: "Landing image",
                data: { src: url_for(about.image) } %>
              
              <% else %>
                <p class="text-muted">No image available</p>
              <% end %>

            <div class="text text-white px-2">
                <%= about.text.body.to_s.html_safe %>
            </div>
         <% end %>

        </div>
      </div>
  </div>


  <script>
    
    document.addEventListener("DOMContentLoaded", function () {
    const images = document.querySelectorAll(".progressive-image");

      images.forEach((img) => {
        img.addEventListener("load", () => {
          img.classList.add("loaded");
        });

        // For browsers that don't automatically trigger load on cached images
        if (img.complete) {
          img.classList.add("loaded");
        }
      });
    });

  </script>